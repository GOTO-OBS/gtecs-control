#!/usr/bin/env python
"""
A script to change the system control mode
"""

import sys

from gtecs import flags
from gtecs import params
from gtecs import misc

status = flags.Status()

if __name__ == "__main__":
    if len(sys.argv) != 2:
        print('Usage: mode [manual|robotic]')
        print('  System is currently in {} mode.'.format(status.mode.upper()))
        print('  Current observer is "{}".'.format(status.observer))
    else:
        m_args = ['m', '-m', 'manual', '--manual']
        r_args = ['r', '-r', 'robotic', '--robotic']
        new_mode = sys.argv[1]
        if new_mode.lower() not in r_args+m_args:
            print('ERROR: "{}" is an invalid mode'.format(name))
            print('Usage: mode [manual|robotic]')
        else:
            if new_mode.lower() in m_args:
                misc.execute_command('manual_mode')
            elif new_mode.lower() in r_args:
                misc.execute_command('robotic_mode')
